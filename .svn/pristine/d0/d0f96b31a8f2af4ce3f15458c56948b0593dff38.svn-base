<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <link rel="stylesheet" href="../../css/weui.css">
    <link rel="stylesheet" href="../../css/weui2.css">
    <title>我的评价</title>
    <style>
        .weui-rater a.checked {
            color: #ffbd00 !important;
            cursor: not-allowed;
        }
        .btn{
            width: 100%;
            height: 40px;
            background: #ffbd00;
            border-radius: 20px;
            display: inline-block;
            text-align: center;
            line-height: 40px;
            color: white;
            font-size: 16px;
        }
        .btn:active{
            background: #CCCCCC;
            color: white;
        }
    </style>
</head>
<body style="background: #fff;">
    <div style="padding: 80px 25px 0">
        <div class="clearfix">
            <div style="width: 100px; height: 100px;  overflow: hidden;border-radius: 8px;position: relative;float: left">
                <img src="../../images/20150415H0546_YGatC.thumb.224_0.jpeg" style="width: 100px; height: 100px;">
                <div style="position: absolute;bottom: 0px; width: 100px; text-align: center;padding: 3px 0;color: #fff;font-size: 14px; background: rgba(0,0,0,0.5)">张日天</div>
            </div>
            <div style="float: left; padding: 20px 0 0 25px;">
                <p style="font-size: 15px;">给你的专属客服打个分</p>
                <div style="margin-top: 10px; ">
                    <div class="weui-rater">
                        <a data-num = "0" class="weui-rater-box checked"> <span class="weui-rater-inner">★</span> </a>
                        <a data-num = "1" class="weui-rater-box"> <span class="weui-rater-inner">★</span> </a>
                        <a data-num = "2" class="weui-rater-box"> <span class="weui-rater-inner">★</span> </a>
                        <a data-num = "3" class="weui-rater-box"> <span class="weui-rater-inner">★</span> </a>
                        <a data-num = "4" class="weui-rater-box"> <span class="weui-rater-inner">★</span> </a>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding-top: 60px; margin-bottom: 20px;">
            <p style="color: #bebebe; font-size: 14px;">你的建议是我们最大的财富!</p>
            <textarea style="padding: 10px;border: 1px solid #ffbd00; resize: none; width:calc(100% - 20px); height: 200px;margin-top: 10px; font-size: 14px; border-radius: 3px;" placeholder='说些什么...'></textarea>
        </div>
        <a class="btn">提交</a>
    </div>
</body>
<script src="../../js/jquery-3.2.1.js"></script>
<script src="../../js/zepto.min.js"></script>
<script>
    //评分js
    var arr = ["1分","2分","3分","4分","5分"];
    var num = -1;
    $(".weui-rater a").mouseover(function(){
        var thisL = $(this).index();
        for(var i = 0;i < thisL;i++){
            $(".weui-rater a").eq(i).addClass('checked');
        }
        for(var i = thisL; i < 5;i++){
            $(".weui-rater a").eq(i).removeClass('checked');
        }
        $(this).addClass('checked');
    })
    $(".weui-rater a").mouseout(function(){
        var thisL = $(this).index();
        for(var i = thisL; i < 5;i++){
            $(".weui-rater a").eq(i).removeClass('checked');
        }
    })
    $(".weui-rater").mouseout(function(){

        for(var i = 0; i < num;i++){
            $(".weui-rater a").eq(i).addClass('checked');
        }
    })
    $(".weui-rater a").click(function(){
        var thisL = $(this).index();
        $("#fen").html(arr[thisL]);
        $(this).addClass('checked');
        num = thisL+1;
        console.log(num);
    })
</script>
</html>