!function(z){var s,r,q,p,o,n,y={},x=navigator.userAgent,w=x.match(/(Android);?[\s\/]+([\d.]+)?/),v=x.match(/(iPad).*OS\s([\d_]+)/),u=x.match(/(iPod)(.*OS\s([\d_]+))?/),t=!v&&x.match(/(iPhone\sOS)\s([\d_]+)/);if(y.ios=y.android=y.iphone=y.ipad=y.androidChrome=!1,w&&(y.os="android",y.osVersion=w[2],y.android=!0,y.androidChrome=x.toLowerCase().indexOf("chrome")>=0),(v||t||u)&&(y.os="ios",y.ios=!0),t&&!u&&(y.osVersion=t[2].replace(/_/g,"."),y.iphone=!0),v&&(y.osVersion=v[2].replace(/_/g,"."),y.ipad=!0),u&&(y.osVersion=u[3]?u[3].replace(/_/g,"."):null,y.iphone=!0),y.ios&&y.osVersion&&x.indexOf("Version/")>=0&&"10"===y.osVersion.split(".")[0]&&(y.osVersion=x.toLowerCase().split("version/")[1].split(" ")[0]),y.webView=(t||v||u)&&x.match(/.*AppleWebKit(?!.*Safari)/i),y.os&&"ios"===y.os&&(s=y.osVersion.split("."),y.minimalUi=!y.webView&&(u||t)&&(7===1*s[0]?1*s[1]>=1:1*s[0]>7)&&z('meta[name="viewport"]').length>0&&z('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0),r=z(window).width(),q=z(window).height(),y.statusBar=!1,y.statusBar=y.webView&&r*q===screen.width*screen.height?!0:!1,p=[],y.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(y.pixelRatio)),y.pixelRatio>=2&&p.push("retina"),y.os&&(p.push(y.os,y.os+"-"+y.osVersion.split(".")[0],y.os+"-"+y.osVersion.replace(/\./g,"-")),"ios"===y.os)){for(o=parseInt(y.osVersion.split(".")[0],10),n=o-1;n>=6;n--){p.push("ios-gt-"+n)}}y.statusBar?p.push("with-statusbar-overlay"):z("html").removeClass("with-statusbar-overlay"),p.length>0&&z("html").addClass(p.join(" ")),z.device=y}($),+function(d){var c=function(v){function q(){var e=!1;return u.params.convertToPopover||u.params.onlyInPopover?(!u.inline&&u.params.input&&(u.params.onlyInPopover?e=!0:d.device.ios?e=d.device.ipad?!0:!1:d(window).width()>=768&&(e=!0)),e):e}function p(){return u.opened&&u.container&&u.container.length>0&&u.container.parents(".popover").length>0?!0:!1}function o(){if(u.opened){for(var b=0;b<u.cols.length;b++){u.cols[b].divider||(u.cols[b].calcSize(),u.cols[b].setValue(u.cols[b].value,0,!1))}}}function n(C){var B,w,A,z,y,x,l,g;if(C.preventDefault(),!u.opened&&(u.open(),u.params.scrollToInput&&!q())){if(B=u.input.parents(".content"),0===B.length){return}A=parseInt(B.css("padding-top"),10),z=parseInt(B.css("padding-bottom"),10),y=B[0].offsetHeight-A-u.container.height(),x=B[0].scrollHeight-A-u.container.height(),l=u.input.offset().top-A+u.input[0].offsetHeight,l>y&&(g=B.scrollTop()+l-y,g+y>x&&(w=g+y-x+z,y===x&&(w=u.container.height()),B.css({"padding-bottom":w+"px"})),B.scrollTop(g,300))}}function m(e){p()||(u.input&&u.input.length>0?e.target!==u.input[0]&&0===d(e.target).parents(".weui-picker-modal").length&&u.close():0===d(e.target).parents(".weui-picker-modal").length&&u.close())}function a(){u.opened=!1,u.input&&u.input.length>0&&u.input.parents(".page-content").css({"padding-bottom":""}),u.params.onClose&&u.params.onClose(u),u.container.find(".picker-items-col").each(function(){u.destroyPickerCol(this)})}var s,r,u=this,t={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};v=v||{};for(s in t){"undefined"==typeof v[s]&&(v[s]=t[s])}return u.params=v,u.cols=[],u.initialized=!1,u.inline=u.params.container?!0:!1,r=d.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!d.device.android,u.setValue=function(g,f){var h,i=0;for(h=0;h<u.cols.length;h++){u.cols[h]&&!u.cols[h].divider&&(u.cols[h].setValue(g[i],f),i++)}},u.updateValue=function(){var g,f=[],h=[];for(g=0;g<u.cols.length;g++){u.cols[g].divider||(f.push(u.cols[g].value),h.push(u.cols[g].displayValue))}f.indexOf(void 0)>=0||(u.value=f,u.displayValue=h,u.params.onChange&&u.params.onChange(u,u.value,u.displayValue),u.input&&u.input.length>0&&(d(u.input).val(u.params.formatValue?u.params.formatValue(u,u.value,u.displayValue):u.value.join(" ")),d(u.input).trigger("change")))},u.initPickerCol=function(ai,ah){function V(){X=d.requestAnimationFrame(function(){ae.updateItems(void 0,void 0,0),V()})}function O(e){if(!P&&!R){e.preventDefault(),R=!0;var g=d.getTouchPosition(e);N=K=g.y,j=(new Date).getTime(),T=!0,f=W=d.getTranslate(ae.wrapper[0],"y")}}function M(g){var k,h;R&&(g.preventDefault(),T=!1,k=d.getTouchPosition(g),K=k.y,P||(d.cancelAnimationFrame(X),P=!0,f=W=d.getTranslate(ae.wrapper[0],"y"),ae.wrapper.transition(0)),g.preventDefault(),h=K-N,W=f+h,Y=void 0,aa>W&&(W=aa-Math.pow(aa-W,0.8),Y="min"),W>Z&&(W=Z+Math.pow(W-Z,0.8),Y="max"),ae.wrapper.transform("translate3d(0,"+W+"px,0)"),ae.updateItems(void 0,W,0,u.params.updateValuesOnTouchmove),S=W-U||W,Q=(new Date).getTime(),U=W)}function L(){var h,g,b;return R&&P?(R=P=!1,ae.wrapper.transition(""),Y&&("min"===Y?ae.wrapper.transform("translate3d(0,"+aa+"px,0)"):ae.wrapper.transform("translate3d(0,"+Z+"px,0)")),i=(new Date).getTime(),i-j>300?g=W:(h=Math.abs(S/(i-Q)),g=W+S*u.params.momentumRatio),g=Math.max(Math.min(g,Z),aa),b=-Math.floor((g-Z)/ac),u.params.freeMode||(g=-b*ac+Z),ae.wrapper.transform("translate3d(0,"+parseInt(g,10)+"px,0)"),ae.updateItems(b,g,"",!0),u.params.updateValuesOnMomentum&&(V(),ae.wrapper.transitionEnd(function(){d.cancelAnimationFrame(X)})),setTimeout(function(){T=!0},100),void 0):(R=P=!1,void 0)}function J(){if(T){d.cancelAnimationFrame(X);var b=d(this).attr("data-picker-value");ae.setValue(b)}}var ad,ac,ab,aa,Z,X,T,R,P,N,K,j,i,f,Y,W,U,S,Q,ag=d(ai),af=ag.index(),ae=u.cols[af];ae.divider||(ae.container=ag,ae.wrapper=ae.container.find(".picker-items-col-wrapper"),ae.items=ae.wrapper.find(".picker-item"),ae.replaceValues=function(g,e){ae.destroyEvents(),ae.values=g,ae.displayValues=e;var h=u.columnHTML(ae,!0);ae.wrapper.html(h),ae.items=ae.wrapper.find(".picker-item"),ae.calcSize(),ae.setValue(ae.values[0],0,!0),ae.initEvents()},ae.calcSize=function(){u.params.rotateEffect&&(ae.container.removeClass("picker-items-col-absolute"),ae.width||ae.container.css({width:""}));var e,g;e=0,g=ae.container[0].offsetHeight,ad=ae.wrapper[0].offsetHeight,ac=ae.items[0].offsetHeight,ab=ac*ae.items.length,aa=g/2-ab+ac/2,Z=g/2-ac/2,ae.width&&(e=ae.width,parseInt(e,10)===e&&(e+="px"),ae.container.css({width:e})),u.params.rotateEffect&&(ae.width||(ae.items.each(function(){var b=d(this);b.css({width:"auto"}),e=Math.max(e,b[0].offsetWidth),b.css({width:""})}),ae.container.css({width:e+2+"px"})),ae.container.addClass("picker-items-col-absolute"))},ae.calcSize(),ae.wrapper.transform("translate3d(0,"+Z+"px,0)").transition(0),ae.setValue=function(h,x,w){var l,k;"undefined"==typeof x&&(x=""),l=ae.wrapper.find('.picker-item[data-picker-value="'+h+'"]').index(),"undefined"!=typeof l&&-1!==l&&(k=-l*ac+Z,ae.wrapper.transition(x),ae.wrapper.transform("translate3d(0,"+k+"px,0)"),u.params.updateValuesOnMomentum&&ae.activeIndex&&ae.activeIndex!==l&&(d.cancelAnimationFrame(X),ae.wrapper.transitionEnd(function(){d.cancelAnimationFrame(X)}),V()),ae.updateItems(l,k,x,w))},ae.updateItems=function(h,y,x,w){var l,k;"undefined"==typeof y&&(y=d.getTranslate(ae.wrapper[0],"y")),"undefined"==typeof h&&(h=-Math.round((y-Z)/ac)),0>h&&(h=0),h>=ae.items.length&&(h=ae.items.length-1),l=ae.activeIndex,ae.activeIndex=h,ae.wrapper.find(".picker-selected").removeClass("picker-selected"),u.params.rotateEffect&&ae.items.transition(x),k=ae.items.eq(h).addClass("picker-selected").transform(""),(w||"undefined"==typeof w)&&(ae.value=k.attr("data-picker-value"),ae.displayValue=ae.displayValues?ae.displayValues[h]:ae.value,l!==h&&(ae.onChange&&ae.onChange(u,ae.value,ae.displayValue),u.updateValue())),u.params.rotateEffect&&((y-(Math.floor((y-Z)/ac)*ac+Z))/ac,ae.items.each(function(){var z=d(this),F=z.index()*ac,E=Z-y,D=F-E,C=D/ac,B=Math.ceil(ae.height/ac/2)+1,A=-18*C;A>180&&(A=180),-180>A&&(A=-180),Math.abs(C)>B?z.addClass("picker-item-far"):z.removeClass("picker-item-far"),z.transform("translate3d(0, "+(-y+Z)+"px, "+(r?-110:0)+"px) rotateX("+A+"deg)")}))},ah&&ae.updateItems(0,Z,0),T=!0,ae.initEvents=function(e){var g=e?"off":"on";ae.container[g](d.touchEvents.start,O),ae.container[g](d.touchEvents.move,M),ae.container[g](d.touchEvents.end,L),ae.items[g]("click",J)},ae.destroyEvents=function(){ae.initEvents(!0)},ae.container[0].f7DestroyPickerCol=function(){ae.destroyEvents()},ae.initEvents())},u.destroyPickerCol=function(e){e=d(e),"f7DestroyPickerCol" in e[0]&&e[0].f7DestroyPickerCol()},d(window).on("resize",o),u.columnHTML=function(g,f){var h,j="",i="";if(g.divider){i+='<div class="picker-items-col picker-items-col-divider '+(g.textAlign?"picker-items-col-"+g.textAlign:"")+" "+(g.cssClass||"")+'">'+g.content+"</div>"}else{for(h=0;h<g.values.length;h++){j+='<div class="picker-item" data-picker-value="'+g.values[h]+'">'+(g.displayValues?g.displayValues[h]:g.values[h])+"</div>"}i+='<div class="picker-items-col '+(g.textAlign?"picker-items-col-"+g.textAlign:"")+" "+(g.cssClass||"")+'"><div class="picker-items-col-wrapper">'+j+"</div></div>"}return f?j:i},u.layout=function(){var k,j,i,h="",g="";for(u.cols=[],j="",k=0;k<u.params.cols.length;k++){i=u.params.cols[k],j+=u.columnHTML(u.params.cols[k]),u.cols.push(i)}g="weui-picker-modal picker-columns "+(u.params.cssClass||"")+(u.params.rotateEffect?" picker-3d":""),h='<div class="'+g+'">'+(u.params.toolbar?u.params.toolbarTemplate.replace(/{{closeText}}/g,u.params.toolbarCloseText).replace(/{{title}}/g,u.params.title):"")+'<div class="picker-modal-inner picker-items">'+j+'<div class="picker-center-highlight"></div></div></div>',u.pickerHTML=h},u.params.input&&(u.input=d(u.params.input),u.input.length>0&&(u.params.inputReadOnly&&u.input.prop("readOnly",!0),u.inline||u.input.on("click",n),u.params.inputReadOnly&&u.input.on("focus mousedown",function(b){b.preventDefault()}))),u.inline||d("html").on("click",m),u.opened=!1,u.open=function(){var e=q();u.opened||(u.layout(),e?(u.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+u.pickerHTML+"</div></div>",u.popover=d.popover(u.pickerHTML,u.params.input,!0),u.container=d(u.popover).find(".weui-picker-modal"),d(u.popover).on("close",function(){a()})):u.inline?(u.container=d(u.pickerHTML),u.container.addClass("picker-modal-inline"),d(u.params.container).append(u.container)):(u.container=d(d.openPicker(u.pickerHTML)),d(u.container).on("close",function(){a()})),u.container[0].f7Picker=u,u.container.find(".picker-items-col").each(function(){var b=!0;(!u.initialized&&u.params.value||u.initialized&&u.value)&&(b=!1),u.initPickerCol(this,b)}),u.initialized?u.value&&u.setValue(u.value,0):u.params.value&&u.setValue(u.params.value,0)),u.opened=!0,u.initialized=!0,u.params.onOpen&&u.params.onOpen(u)},u.close=function(){return u.opened&&!u.inline?p()?(d.closePicker(u.popover),void 0):(d.closePicker(u.container),void 0):void 0},u.destroy=function(){u.close(),u.params.input&&u.input.length>0&&u.input.off("click focus",n),d("html").off("click",m),d(window).off("resize",o)},u.inline&&u.open(),u};d(document).on("click",".close-picker",function(){var a=d(".weui-picker-modal.weui-picker-modal-visible");a.length>0&&d.closePicker(a)}),d(document).on(d.touchEvents.move,".picker-modal-inner",function(b){b.preventDefault()}),d.openPicker=function(a,h){var g,f;return d.closePicker(),g=d("<div class='weui-picker-container "+(h||"")+"'></div>").appendTo(document.body),g.show(),g.addClass("weui-picker-container-visible"),f=d(a).appendTo(g),f.width(),f.addClass("weui-picker-modal-visible"),f},d.closePicker=function(){d(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){d(this).parent().remove()}).trigger("close")},d.fn.picker=function(b){var a=arguments;return this.each(function(){var l,k,j,i;this&&(l=d(this),k=l.data("picker"),k||(b=b||{},j=l.val(),void 0===b.value&&""!==j&&(b.value=b.cols.length>1?j.split(" "):[j]),i=d.extend({input:this},b),k=new c(i),l.data("picker",k)),"string"==typeof b&&k[b].apply(k,Array.prototype.slice.call(a,1)))})}}($),+function(d){var c;d.fn.datetimePicker=function(a){return a=d.extend({},c,a),this.each(function(){var B,A,z,y,x,w,v,u,t,s,r,q,p;this&&(B=new Date,A=function(f){var g,e=[];for(g=1;(f||31)>=g;g++){e.push(10>g?"0"+g:g)}return e},z=function(g,f){var i=new Date(f,parseInt(g)+1-1,1),h=new Date(i-1);return A(h.getDate())},y=function(b){return 10>b?"0"+b:b},x=function(b){return 0==a.m?b[0]+a.dateSplit+b[1]+a.dateSplit+b[2]+" "+b[3]+a.timeSplit+b[4]:1==a.m?b[0]+a.dateSplit+b[1]+a.dateSplit+b[2]:void 0},w="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),v=function(){var e,f=[];for(e=1950;2030>=e;e++){f.push(e)}return f}(),0==a.m?(t=[B.getFullYear(),y(B.getMonth()+1),y(B.getDate()),y(B.getHours()),y(B.getMinutes())],s=[{values:v},{values:w},{values:A()},{divider:!0,content:" "},{values:function(){var e,f=[];for(e=0;23>=e;e++){f.push(y(e))}return f}()},{divider:!0,content:":"},{values:function(){var e,f=[];for(e=0;59>=e;e++){f.push(y(e))}return f}()}]):1==a.m&&(t=[B.getFullYear(),y(B.getMonth()+1),y(B.getDate())],s=[{values:v},{values:w},{values:A()}]),r={rotateEffect:!1,value:t,onChange:function(H,G,F){var o,j,g,e,E=H.cols,D=z(E[1].value,E[0].value),C=H.cols[2].value;C>D.length&&(C=D.length),H.cols[2].setValue(C),o=+new Date(x(G,F)),j=!0,a.min&&(g=+new Date("function"==typeof a.min?a.min():a.min),g>o&&(H.setValue(u),j=!1)),a.max&&(e=+new Date("function"==typeof a.max?a.max():a.max),o>e&&(H.setValue(u),j=!1)),j&&(u=G)},formatValue:function(f,e,g){return x(e,g)},cols:s},q=d(this).val(),void 0===a.value&&""!==q&&(a.value=[].concat(q.split(" ")[0].split(a.dateSplit),q.split("")[1].split(a.timeSplit))),p=d.extend(r,a),d(this).picker(p))})},c=d.fn.datetimePicker.prototype.defaults={dateSplit:"-",timeSplit:":",min:void 0,max:void 0,m:0}}($);